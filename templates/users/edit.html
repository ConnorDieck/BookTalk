{% extends 'base.html' %}

{% block title %}Edit Profile{% endblock %}

{% block content %}

<h1 class="display-1">Edit Your Profile</h1>
<p class="lead">Fill out the fields below in order to change your profile.</p>

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, msg in messages %}
            <p class="{{ category }}">{{ msg }}</p>
        {% endfor %}
    {% endif %}
{% endwith %}

<form action="" method="POST">

    {{ form.hidden_tag() }}

    {% for field in form if field.widget.input_type != 'hidden' %}
        <p>
            {{ field.label }}
            {{ field(class_="form-control") }}

            {% for error in field.errors %}
                <span class="form-text text-danger">{{ error }}</span>
            {% endfor %}
        </p>
    {% endfor %}

    <button class="btn btn-success" type="submit">Confirm Edits</button>
    <a href="/users/{{ user.id }}" class="btn btn-danger">Cancel</a>

</form>

{% endblock %}